<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <title>Flight Mode - Taking your data offline</title>
    
    <!-- Required stylesheet -->
    <link rel="stylesheet" href="core/deck.core.css">
    
    <!-- Extension CSS files go here. Remove or add as needed. -->
    <link rel="stylesheet" href="extensions/goto/deck.goto.css">
    <link rel="stylesheet" href="extensions/menu/deck.menu.css">
    <link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
    <link rel="stylesheet" href="extensions/status/deck.status.css">
    <link rel="stylesheet" href="extensions/hash/deck.hash.css">
    <link rel="stylesheet" href="extensions/scale/deck.scale.css">

    <!-- Style theme. More available in /themes/style/ or create your own. -->
    <link rel="stylesheet" href="themes/style/neon.css">
    
    <!-- Transition theme. More available in /themes/transition/ or create your own. -->
    <link rel="stylesheet" href="themes/transition/horizontal-slide.css">

    <!-- Codemirror plugin -->
    <link rel="stylesheet" href="extensions/codemirror/deck.codemirror.css">
    <link rel="stylesheet" href="extensions/codemirror/themes/default.css">
    <link rel="stylesheet" href="extensions/codemirror/themes/cobalt.css">
    
    <!-- custom css -->
    <style type="text/css">
        .CodeMirror-inactive {
            opacity: 0.3;
        }

        a.demo {
            color: #bada55 !important;
            font-size:2em;
            text-shadow: 0 0 50px #0af, 0 0 3px #fff;
        }

        li.plain {
            list-style: none;
        }

        .notes {
            display: none;
        }

        .flip {
            transform: rotate(180deg);
            text-align: right;
            list-style: none;
            color: #bada55 !important;
            font-size:2em !important;
            text-align: center;
        }
    </style>

    <!-- Required Modernizr file -->
    <script src="modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
    <h1>Flight Mode - Taking web apps offline</h1>
</section>

<section class="slide">
    <h2>Hello</h2>
    <ul>
        <li class="slide">I'm Aaron Powell</li>
        <li class="slide">or <a href="http://twitter.com">@slace</a></li>
        <li class="slide">I blog at <a href="http://www.aaron-powell.com">www.aaron-powell.com</a></li>
        <li class="slide">I work for <a href="http://readify.net">Readify</a></li>
        <li class="slide">I'm an IE MVP &amp; IE UserAgent</li>
    </ul>
    <p class="slide flip">And yes, I'm Australian.</p>
</section>

<section class="slide">
    <!-- source - http://blogcritics.org/dvd-review-how-i-met-your6/ -->
    <img src="images/How-I-Met-Your-Mother.jpg" alt="Story time" class="vcenter">
    <div class="notes">
        <ul>
            <li>Great idea to make you rich</li>
            <li>Hundreds of cents, tens of dollars</li>
            <li>All the modern patterns</li>
            <li>Bundling it for app-store install</li>
            <li>Feels native</li>
        </ul>
    </div>
</section>

<section class="slide">
    <h2>It's all well and good until...</h2>
    <img src="images/flight-mode.png" alt="Flight mode" class="vcenter">
</section>

<section class="slide">
    <h2>What can we do?</h2>
    <ul>
        <li class="slide plain">
            <img src="images/i-cant.gif" alt="">
        </li>
    </ul>
</section>

<section class="slide">
    <h1>Not really great for the users is it?</h1>
</section>

<!-- Detecting offline -->

<section class="slide">
    <h1>Knowing you're offline</h1>
</section>

<div class="slide">
    <h2>It's really hard</h2>
    <ul>
        <li class="slide">Is your network disconnected?</li>
        <li class="slide">Is your DNS down?</li>
        <li class="slide">Is your ISP down?</li>
        <li class="slide">Is the host down?</li>
    </ul>
    <p class="slide">Standard bodies can't agree.</p>
    <p class="slide">Let's just assume it's any of the above.</p>
    <p class="slide"><a href="https://github.com/ifandelse/machina.js/tree/master/example/connectivity" target="_blank">Check out Machina.js example</a></p>
</div>

<!--
<section class="slide">
    <h2>Modern browsers</h2>
    <pre class="slide code" mode="javascript" theme="cobalt">
document.addEventListener('online', function () {
   //app is now online 
});
document.addEventListener('offline', function () {
   //app is now offline 
});
    </pre>
</section>

<section class="slide">
    <h2>Legacy browsers</h2>
    <pre class="slide code" mode="javascript" theme="cobalt">(function checkOnline() {
    $.get('/keep-alive').done(function () {
        navigator.onLine = true;
        setTimeout(checkOnline, 10000);
    }).error(function () {
        navigator.onLine = false;
        setTimeout(checkOnline, 10000);
    });
})();</pre>
    <p class="slide"><a href="demos/online-offline">Demo</a></p>
</section>
-->

<!-- Cookies -->

<section class="slide">
    <h1>Cookies</h1>
</section>

<section class="slide">
    <h2>Yay cookies!</h2>
    <p>Oldest form of offline storage available.</p>
    <p>Really good browser support.</p>
    <p>Part of the standard HTTP header, they'll be included in the requests so your offline data can be synced automatically.</p>
    <p>Cookies can be set to expire.</p>
</section>

<section class="slide">
    <a href="demos/cookies" target="_blank" class="vcenter demo">
        <img src="images/cookie-monster.gif" alt="COOKIES">
        Demo
    </a>
</section>

<section class="slide">
    <h2>Paying the price</h2>
    <ul>
        <li class="slide">You're adding weight to HTTP requests</li>
        <li class="slide">Cookie API is pretty sloppy</li>
        <li class="slide">Security concerns</li>
        <li class="slide">It's synchronous</li>
    </ul>
</section>

<!-- Local/Session storage -->

<section class="slide">
    <h1>Web Storage</h1>
</section>

<section class="slide">
    <h2>Is it HTML5 storage?</h2>
    <p><code>localStorage</code> and <code>sessionStorage</code></p>
    <p>Support back to IE8.</p>
    <p>Key/Value store.</p>
    <p>Quite a nice API.</p>
</section>

<section class="slide">
    <a href="demos/web-storage" target="_blank" class="vcenter demo">
    <img src="images/web-storage.jpg" alt="Web storage demo">
    Demo
    </a>
</section>

<section class="slide">
    <h2>The downside</h2>
    <ul>
        <li class="slide">API is limiting for advanced usage</li>
        <li class="slide">No expiry of records</li>
        <li class="slide">It's synchronous</li>
    </ul>
</section>

<!-- IndexedDB -->

<section class="slide">
    <h1>IndexedDB</h1>
</section>

<section class="slide">
    <h2>The big brother</h2>
    <p>WebSQL is dead.</p>
    <p>Simplified NoSQL database.</p>
    <p>Multiple stores, multiple tables, multiple indexes and transactions.</p>
    <p>Asynchronous API.</p>
</section>

<section class="slide">
    <a href="demos/indexeddb" target="_blank" class="vcenter demo">
        <img src="images/indexeddb.jpg" alt="IndexedDB">
        Demo
    </a>
</section>

<section class="slide">
    <h2>There's always a downside</h2>
    <ul>
        <li class="slide">Browser support, espcially no mobile Safair</li>
        <li class="slide">API sucks</li>
        <li class="slide">Not great for simple scenarios</li>
    </ul>
</section>

<!-- Adding to an app -->

<section class="slide">
    <div class="vcenter">
        <img src="images/cool-story-bro.jpg" alt="Cool story bro">
        <p>How do I add it?</p>
    </div>
</section>

<section class="slide">
    <h2>Make a promise</h2>
    <p class="slide">We can simulate asynchronous APIs even when they aren't.</p>
    <p class="slide">Write to storage and perform HTTP request, if the request fails we have the data, if it passes we can remove it.</p>
</section>

<!-- source - https://github.com/promises-aplus/promises-spec -->
<section class="slide">
    <a href="demos/promise-saving" target="_blank" class="vcenter demo">
        <img src="images/promise-logo.png" alt="">
        Demo
    </a>
</section>

<section class="slide"><img src="images/six-million-dollar-man.jpg" alt="" class="vcenter"></section>

<section class="slide"><img src="images/six-million-dollar-man-cheap.gif" alt="" class="vcenter"></section>

<section class="slide">
    <h1><a href="demos/amplifyjs" target="_blank">AmplifyJS Store</a></h1>
</section>

<seciton class="slide">
    <h1><a href="demos/lawnchair" target="_blank">Lawnchair</a></h1>
</seciton>

<section class="slide">
    <h1><a href="demos/dbjs" target="_blank">db.js</a></h1>
</section>

<section id="questions" class="slide">
    <h2>Questions</h2>
    <div class="vcenter">
        <img src="images/applause.gif" alt="">
        <p>
            <a href="http://twitter.com/slace" target="_blank">@slace</a>
            |
            <a href="http://www.aaron-powell.com" target="_blank">www.aaron-powell.com</a>
            |
            <a href="http://aaronpowell.github.io/talks/flight-mode" target="_blank">aaronpowell.github.io/talks/flight-mode</a>
        </p>
    </div>
</section>

<!-- End slides. -->


<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
    <span class="deck-status-current"></span>
    /
    <span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
    <label for="goto-slide">Go to slide:</label>
    <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
    <datalist id="goto-datalist"></datalist>
    <input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->


<!-- Required JS files. -->
<script src="jquery-1.7.2.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="core/deck.core.js"></script>
<script src="extensions/hash/deck.hash.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Codemirror -->
<!-- Base codemiror code -->
<script src="extensions/codemirror/codemirror.js"></script>

<!-- Syntax highlighting Modes -->

<!-- javascript -->
<script src="extensions/codemirror/mode/javascript/javascript.js"></script>

<!-- html mode (note html mode requires xml, css and javascript) -->
<script src="extensions/codemirror/mode/xml/xml.js"></script>
<script src="extensions/codemirror/mode/css/css.js"></script>
<script src="extensions/codemirror/mode/htmlmixed/htmlmixed.js"></script>

<!-- Plugin code -->
<script src="extensions/codemirror/deck.codemirror.js"></script>


<!-- Initialize the deck. You can put this in an external file if desired. -->
<script src="scripts/main.js"></script>
</body>
</html>
